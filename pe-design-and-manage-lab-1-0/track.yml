slug: pe-design-and-manage-lab-1-0
id: nua4cwppbg9z
type: track
title: Inspect the Agent Catalog
teaser: Learn how to request, locate, and inspect the Puppet agent catalog.
description: |-
  # We're putting the finishing touches on this BETA Puppet Practice Lab — go ahead and take a peek!

  Please help us find any bugs that need to be zapped and share your feedback for improving this learning experience by clicking the **Bug Zapper** tab at the top of each challenge and completing the short survey.

  We welcome your suggestions and value your feedback. If you have additional comments or suggestions after completing this BETA Puppet Practice Lab, please [reach out to us directly](mailto:education@puppet.com).

  ---

  **What you'll learn**

  In this lab you will:
  * Explore the Puppet run lifecycle by kicking off a Puppet run.
  * Inspect an agent catalog — built during a Puppet run — to see what the Puppet agent manages out of the box.

  **Prerequisites**

  None

  ---

  **Keep an eye on the clock**

  ![10 minute lab](https://storage.googleapis.com/instruqt-images/Clocks%20for%20Track%20Duration/10min100.png) The virtual learning environment will stay up for 60 minutes, however, **this lab should only take about 10 minutes** to complete. When your learning environment expires, your work will not be saved. If you haven't completed the lab, you can simply restart it.

  Click **Start track** when you're ready to begin.
icon: https://storage.googleapis.com/instruqt-images/bz-smallicon-1.png
tags:
- ""
- PE201
- agent
- catalog
owner: puppet
developers:
- jain.waldrip@puppet.com
- greg.larkin@puppet.com
- alex.williamson@puppet.com
- thomas.chisholm@puppet.com
private: true
published: true
show_timer: true
challenges:
- slug: inspect-the-agent-catalog
  id: rl9eexqbjtq4
  type: challenge
  title: Inspect the Agent Catalog
  teaser: See what the Puppet agent manages out of the box.
  notes:
  - type: text
    contents: |-
      In this lab you will:

      * Run Puppet and explore the Puppet run lifecycle.

      * Inspect the agent catalog — built during the Puppet run — to see what the Puppet agent manages out of the box.

      Click **Start** when you're ready to begin.
  assignment: "1. On the Linux Agent tab, run Puppet to request the agent's catalog from the primary server.\n\n```\npuppet agent -t\n```\n2. Locate the agent's catalog:\n\n```\npuppet config print client_datadir\n```\n The output shows the catalog's location:\n```\n/opt/puppetlabs/puppet/cache/client_data              # on linux\n```\n3. View the catalog's timestamp:\n\n```\nls -l /opt/puppetlabs/puppet/cache/client_data/catalog/nixagent*.json\n```\n\nVerify that the timestamp in the output matches the current system date/time:\n\n```\ndate\n```\n\n4. Run the following command to filter the catalog contents for the `Service` resource:\n\n```\ncat /opt/puppetlabs/puppet/cache/client_data/catalog/*.json | jq -c '.resources[] | select(.type==\"Service\")' | jq\n```\nInspect the catalog contents, and notice that the agent manages the `pxp-agent` service resource:\n```\n...\n{\n      \"type\": \"Service\",\n      \"title\": \"pxp-agent\",\n      \"tags\": [\n        \"service\",\n        \"pxp-agent\",\n        \"class\",\n        \"puppet_enterprise::pxp_agent::service\",\n        \"puppet_enterprise\",\n        \"pxp_agent\",\n        \"puppet_enterprise::pxp_agent\",\n        \"puppet_enterprise::profile::agent\",\n        \"profile\",\n        \"agent\",\n        \"node\",\n        \"default\"\n      ],\n      \"file\": \"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pxp_agent/service.pp\",\n      \"line\": 4,\n      \"exported\": false,\n      \"parameters\": {\n        \"ensure\": true,\n        \"enable\": true,\n        \"hasrestart\": true\n  ...\n```\n\n<br>\U0001F388 **Congratulations!** You requested a catalog from the primary server, located the catalog on the Linux agent, verified it was created recently, filtered the catalog contents for the `Service` resource type, and verified that the agent is managing the `pxp-agent` service resource.\n\n---\n**Find any bugs or have feedback? Click the **Bug Zapper** tab near the top of the page and let us know!**\n\nTo close this lab, click **Check**.\n"
  tabs:
  - title: Linux Agent
    type: terminal
    hostname: nixagent
  - title: "Bug Zapper \U0001F99F⚡"
    type: website
    hostname: puppet
    url: https://docs.google.com/forms/d/e/1FAIpQLSeW5svhPB8_0R_PJw0RhsKH1ABS31pYMa0mTf3cO8fRGoTA0A/viewform?embedded=true
  difficulty: basic
  timelimit: 3600
checksum: "10107227796747317083"
